---
data:
  _extendedDependsOn: []
  _extendedRequiredBy: []
  _extendedVerifiedWith: []
  _isVerificationFailed: true
  _pathExtension: cpp
  _verificationStatusIcon: ':x:'
  attributes: {}
  bundledCode: "Traceback (most recent call last):\n  File \"/opt/hostedtoolcache/Python/3.8.16/x64/lib/python3.8/site-packages/onlinejudge_verify/documentation/build.py\"\
    , line 71, in _render_source_code_stat\n    bundled_code = language.bundle(stat.path,\
    \ basedir=basedir, options={'include_paths': [basedir]}).decode()\n  File \"/opt/hostedtoolcache/Python/3.8.16/x64/lib/python3.8/site-packages/onlinejudge_verify/languages/cplusplus.py\"\
    , line 187, in bundle\n    bundler.update(path)\n  File \"/opt/hostedtoolcache/Python/3.8.16/x64/lib/python3.8/site-packages/onlinejudge_verify/languages/cplusplus_bundle.py\"\
    , line 401, in update\n    self.update(self._resolve(pathlib.Path(included), included_from=path))\n\
    \  File \"/opt/hostedtoolcache/Python/3.8.16/x64/lib/python3.8/site-packages/onlinejudge_verify/languages/cplusplus_bundle.py\"\
    , line 260, in _resolve\n    raise BundleErrorAt(path, -1, \"no such header\"\
    )\nonlinejudge_verify.languages.cplusplus_bundle.BundleErrorAt: gandalfr/math/matrix.hpp:\
    \ line -1: no such header\n"
  code: "#define PROBLEM \"https://atcoder.jp/contests/jsc2021/tasks/jsc2021_g\"\n\
    #define IGNORE\n#include <bits/stdc++.h>\n#include \"gandalfr/math/matrix.hpp\"\
    \n#include \"gandalfr/standard/mod_integer.hpp\"\n#include \"gandalfr/graph/Manhattan_minimum_spanning_tree.hpp\"\
    \nusing namespace std;\nusing ll = long long;\n#define rep(i, j, n) for(ll i =\
    \ (ll)(j); i < (ll)(n); i++)\n#define all(a) (a).begin(),(a).end()\n\nint main(void){\n\
    \n    //input\n \n    int N;\n    cin >> N;\n \n    matrix<int> mat(N, N);\n \
    \   cin >> mat;\n \n    auto v(mat);\n \n    graph<int, false> G(N);\n    rep(i,0,N)\
    \ rep(j,i+1,N) if(mat[i][j] == 1) {\n        if(G.are_connected(i, j)){\n    \
    \        cout << 0 << endl;\n            return 0;\n        }\n        G.add_edge(i,\
    \ j);\n    }\n \n    auto cc = G.connected_components();\n    int M = cc.size();\n\
    \    vector<int> gr_id(N, -1);\n    rep(i,0,M) for(auto x : cc[i]) gr_id[x] =\
    \ i;\n \n    //calculate\n \n    if(M == 1){\n        cout << 1 << endl;\n   \
    \     return 0;\n    }\n    \n    matrix<int> shrinked(M, M);\n    rep(i,0,N)\
    \ rep(j,i+1,N){\n        int u = gr_id[i], v = gr_id[j];\n        if(mat[i][j]\
    \ == -1 && u == v) continue;\n        if(mat[i][j] == -1) shrinked[u][v]++, shrinked[v][u]++;\n\
    \    }\n \n    matrix<mod_integer<1000000007>> dt(M - 1, M - 1);\n    rep(i,0,M-1)\
    \ rep(j,0,M-1) dt[i][j] = -shrinked[i][j];\n    rep(i,0,M-1){\n        int sum\
    \ = 0;\n        rep(j,0,M) sum += shrinked[i][j];\n        dt[i][i] = sum;\n \
    \   }\n    cout << dt.determinant() << endl;\n \n}"
  dependsOn: []
  isVerificationFile: true
  path: test/jsc2021-g.test.cpp
  requiredBy: []
  timestamp: '1970-01-01 00:00:00+00:00'
  verificationStatus: TEST_WRONG_ANSWER
  verifiedWith: []
documentation_of: test/jsc2021-g.test.cpp
layout: document
redirect_from:
- /verify/test/jsc2021-g.test.cpp
- /verify/test/jsc2021-g.test.cpp.html
title: test/jsc2021-g.test.cpp
---
